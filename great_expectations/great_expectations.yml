# Great Expectations configuration file
# This file configures the data context for the Ad Campaign Analytics project

config_version: 3.0

# Data context configuration
data_context:
  # Data sources configuration
  datasources:
    snowflake_datasource:
      class_name: Datasource
      execution_engine:
        class_name: SqlAlchemyExecutionEngine
        connection_string: snowflake://${SNOWFLAKE_USER}:${SNOWFLAKE_PROGRAMMATIC_TOKEN}@${SNOWFLAKE_ACCOUNT}/${SNOWFLAKE_DATABASE}/${SNOWFLAKE_SCHEMA}?warehouse=${SNOWFLAKE_WAREHOUSE}&role=ACCOUNTADMIN
      data_connectors:
        default_runtime_data_connector_name:
          class_name: RuntimeDataConnector
          batch_identifiers:
            - default_identifier_name
        default_inferred_data_connector_name:
          class_name: InferredAssetSqlDataConnector
          include_schema_name: true
          introspection_directives:
            schema_name: RAW
            table_name: ad_data

# Expectations store configuration
expectations_store_name: expectations_store
expectations_store:
  class_name: ExpectationsStore
  store_backend:
    class_name: TupleFilesystemStoreBackend
    base_directory: expectations/

# Validations store configuration
validations_store_name: validations_store
validations_store:
  class_name: ValidationsStore
  store_backend:
    class_name: TupleFilesystemStoreBackend
    base_directory: validations/

# Evaluation parameter store configuration
evaluation_parameter_store_name: evaluation_parameter_store
evaluation_parameter_store:
  class_name: EvaluationParameterStore
  store_backend:
    class_name: TupleFilesystemStoreBackend
    base_directory: evaluation_parameters/

# Checkpoint store configuration
checkpoint_store_name: checkpoint_store
checkpoint_store:
  class_name: CheckpointStore
  store_backend:
    class_name: TupleFilesystemStoreBackend
    base_directory: checkpoints/

# Profiler store configuration
profiler_store_name: profiler_store
profiler_store:
  class_name: ProfilerStore
  store_backend:
    class_name: TupleFilesystemStoreBackend
    base_directory: profilers/

# Data docs configuration
data_docs_sites:
  local_site:
    class_name: SiteBuilder
    show_how_to_buttons: true
    store_backend:
      class_name: TupleFilesystemStoreBackend
      base_directory: data_docs/local_site/
    site_index_builder:
      class_name: DefaultSiteIndexBuilder

# Validation operators configuration
validation_operators:
  action_list_operator:
    class_name: ActionListValidationOperator
    action_list:
      - name: store_validation_result
        action:
          class_name: StoreValidationResultAction
      - name: store_evaluation_params
        action:
          class_name: StoreEvaluationParametersAction
      - name: update_data_docs
        action:
          class_name: UpdateDataDocsAction

# Notebooks configuration
notebooks:
  # Jupyter notebook configuration
  jupyter_executor: execute
  jupyter_notebook_dir: notebooks/
  custom_template_path: templates/
  custom_style_path: styles/

# Anonymous usage statistics
anonymous_usage_statistics:
  enabled: true
  data_context_id: ad_campaign_analytics
  usage_statistics_url: https://stats.greatexpectations.io
